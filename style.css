/* =========================
   German Palette (soft) - corrected and scoped
   ========================= */
:root{
  --black:#0f0f10;
  --red:#C91C1C;
  --gold:#F5C400;

  --text:#222;
  --bg:#fafafa;
  --panel:#ffffff;

  --soft-gold:#fff7e0;
  --soft-gold-2:#fff3cc;
  --soft-gold-border:#f3d56a;
  --panel-elev:#fffdf8;
  --muted-text:#4a3b00;
}

/* Ensure light-mode styles apply unless body.dark-mode is present */
body:not(.dark-mode) {
  color:var(--text);
  background: var(--bg);
}

/* Sections / panels (light) */
body:not(.dark-mode) section:not(.hero-section){
  max-width:900px;
  margin:40px auto;
  padding:28px;
  border-radius:12px;
  background: linear-gradient(180deg, var(--panel-elev), var(--panel));
  box-shadow: 0 8px 24px rgba(15,15,16,.06);
  border: 1px solid rgba(0,0,0,.04);
}

/* Skills block (light only) */
body:not(.dark-mode) #skills {
  background: linear-gradient(180deg, var(--soft-gold), var(--soft-gold-2));
  color: var(--muted-text);
  border-radius: 12px;
  box-shadow: 0 8px 22px rgba(10,10,10,.06);
  border: 1px solid var(--soft-gold-border);
  padding:28px;
}
body:not(.dark-mode) #skills h3 {
  color: var(--black);
  font-weight:800;
  border-bottom: 3px solid var(--gold);
  padding-bottom:8px;
  margin-bottom:18px;
}

/* Projects cards (light only) */
body:not(.dark-mode) .project-panel{
  flex:1 1 45%; min-width:280px;
  background: linear-gradient(180deg, var(--soft-gold-2), #fffaf1);
  padding:18px;
  border-radius:10px;
  box-shadow:0 10px 30px rgba(0,0,0,.06);
  color:var(--muted-text);
  border:1px solid var(--soft-gold-border);
  transition: transform .12s ease, box-shadow .12s ease;
}
body:not(.dark-mode) .project-panel:hover{
  transform: translateY(-6px);
  box-shadow:0 18px 40px rgba(0,0,0,.09);
}
body:not(.dark-mode) .project-panel h4{
  margin-bottom:12px;
  color:var(--red);
  border-bottom:2px solid var(--gold);
  padding-bottom:6px;
  font-size:1.18rem; font-weight:800;
}

/* Project details (light only) */
body:not(.dark-mode) .project-details{
  background: #fffaf0;
  border:1px solid var(--soft-gold-border);
  border-left:4px solid var(--red);
  padding:14px; margin-bottom:10px; border-radius:8px; color:var(--muted-text);
}
body:not(.dark-mode) .project-details .project-link{
  display:inline-block; font-weight:600; color:var(--red);
  border:1px solid var(--red); padding:6px 12px; border-radius:6px;
}
body:not(.dark-mode) .project-details .project-link:hover{ background:var(--red); color:#fff; }

/* Contact (light only) */
body:not(.dark-mode) #contact{
  text-align:center; font-size:1.05rem;
  background: linear-gradient(180deg, var(--soft-gold-2), var(--soft-gold));
  border-radius:12px;
  box-shadow:0 12px 32px rgba(0,0,0,.06);
  padding:28px; color:var(--muted-text);
  max-width:900px; margin:40px auto;
  border:1px solid var(--soft-gold-border);
}

/* Dark-mode styles only when body.dark-mode is present */
body.dark-mode{
  color:#e6e6e6;
  background:#121314;
}
body.dark-mode section:not(.hero-section){
  background: linear-gradient(180deg,#111215,#171717);
  color:#e6e6e6;
  border:1px solid rgba(255,215,80,.06);
  box-shadow: 0 8px 26px rgba(0,0,0,.55);
}

body.dark-mode #skills{
  background: linear-gradient(180deg,#261e10,#2f2411);
  color:#efe6c7;
  border:1px solid rgba(243,213,106,.12);
}
body.dark-mode #skills h3{
  color:var(--gold);
  border-bottom-color: rgba(245,196,0,.22);
}

body.dark-mode .project-panel,
body.dark-mode #contact{
  background: linear-gradient(180deg,#221b12,#2a2414);
  color:#e6dcc1;
  border:1px solid rgba(107,90,26,.12);
  box-shadow:0 12px 30px rgba(0,0,0,.5);
}
body.dark-mode .project-details{
  background:#231d14;
  color:#e6dcc1;
  border:1px solid rgba(107,90,26,.14);
  border-left:4px solid rgba(201,28,28,.9);
}

body.dark-mode .project-details .project-link{
  border-color:var(--gold);
  color:var(--gold);
}
body.dark-mode .project-details .project-link:hover{
  background:var(--gold);
  color:#111;
}

/* accessibility tweak and responsive */
@media (max-width:768px){
  .project-panel{ transform:none; box-shadow:0 6px 16px rgba(0,0,0,.06); }
  #skills, .project-panel, #contact { padding:18px; margin:18px 12px; }
}

/* ======= Emergency fixes: constrain oversized header/profile images and restore layout ======= */
/* Wrap main content in a centered container if not present */
.site-container, .container, main{
  max-width:1100px;
  margin:0 auto;
  padding:0 20px;
}

/* Protect hero / header images from growing full-viewport unexpectedly */
/* Accepts both <img class="hero-img"> and <img class="profile-img"> patterns */
.hero-section img, .profile-img, header img, .hero-img{
  width:160px;          /* fixed visual avatar size */
  max-width:160px;
  height:160px;
  max-height:160px;
  object-fit:cover;
  display:block;
  margin:0 auto 18px auto;
  border-radius:50%;
  border:4px solid #fff;
  box-shadow:0 6px 18px rgba(0,0,0,.18);
}

/* If the page uses a full-bleed banner image, limit its height and cover behavior */
.banner-img, .header-banner, .hero-banner{
  width:100%;
  max-height:260px;
  object-fit:cover;
  display:block;
}

/* Ensure all generic images do not overflow layout */
img{ max-width:100%; height:auto; }

/* Restore default heading sizing for missing theme link cases */
h1{ font-size:2.2rem; line-height:1.05; margin-bottom:8px; }
h2{ font-size:1.5rem; margin-bottom:6px; }

/* If CSS file isn't applied early, this small block ensures basic spacing */
header, main, footer, section{ box-sizing:border-box; }

/* If the page was zoomed or scaled inside a wrapper, force normal flow */
body{ transform:none !important; zoom:1 !important; }

/* Accessibility: avoid tiny text inside panels */
.project-details, #skills, .project-panel{ font-size:1rem; }

/* End emergency fixes */